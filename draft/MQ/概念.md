消息队列：通知作用，不会修改消息的内容，由于不需要修改，所以不用查找消息，直接顺序保存即可

任务队列：需要执行的任务，可能会修改任务，所以会涉及到任务查询，重新加入到队列中

本地日志用于解决单机上数据不丢失，复制功能用于解决单机故障的问题

假设以 Kafka 这种消息队列存储来实现延时功能，每个队列的时间都需要创建一个单独的 topic(如: Q1-1s, Q1-2s..)。这种设计在延时时间比较固定的场景下问题不太大，但如果是延时时间变化比较大会导致 topic 数目过多，会把磁盘从顺序读写会变成随机读写从导致性能衰减，同时也会带来其他类似重启或者恢复时间过长的问题。